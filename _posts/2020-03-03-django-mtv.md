---
layout: post
title: "[Python] MTV 개발 방식"
categories: [docs]
tags: [python, django]
comments: true
---

장고의 MTV 방식은 웹 프로그래밍 영역을 세 가지 개념으로 나눠서 개발하는 방식입니다. 즉 테이블을 정의하는 모델, 사용자가 보게 될 화면의 모습을 정의하는 템플릿, 애플리케이션의 제어 흐름 및 처리 로직을 정의하는 뷰로 구분해서 개발을 진행합니다. 장고 프로젝트를 생성하면 모델은 `models.py` 파일에, 템플릿은 `templates/*.html` 파일에, 뷰는 `views.py` 파일에 작성하도록 뼈대가 만들어집니다. 

- Model: 테이블을 정의(`models.py`)
- Template: 사용자가 보게 될 화면의 모습을 정의(`templates/*.html`)
- View: 애플리케이션의 제어 흐름 및 처리 로직을 정의(`views.py`)

위에서도 언급했듯 `models.py`는 테이블을 정의하는 파일입니다. 장고의 특징 중 하나는 데이터베이스 처리에 ORM<sup Object Relation Mapping> 기법을 사용한다는 점입니다. 즉 테이블을 하나의 클래스로 정의하고 테이블의 컬럼을 클래스의 속성으로 매핑합니다. 이후 테이블에 대한 CRUD(Create, Read, Update, Delete) 기능을 클래스 객체에 대해 수행하면, 장고가 내부적으로 데이터베이스에 반영합니다. 테이블 클래스는 `django.db.models.Model` 클래스를 상속받아 정의하며, 각 클래스의 변수 타입도 장고에서 미리 정의한 필드 클래스를 사용합니다.

테이블의 신규 생성, 정의 변경 등 `models.py` 파일에서 데이터베이스 변경 사항이 발생하면, 이를 데이터베이스에 실제로 반영해주는 작업을 해야 합니다. 이를 위해서 장고는 1.7 버전부터 마이그레이션 개녑을 도입했습니다. 마이그레이션이란 테입르 및 필드의 생성, 삭제, 변경 등과 같이 데이터베이스에 대한 변경 사항을 알려주는 정보로, 장고는 이런 마이그레이션 정보를 이용해 변경 사항을 실제 데이터베이스에 반영하는 명령어들을 제공합니다. 

URLconf라는 용어는 URL과 뷰(함수 또는 메소드)를 매핑해주는 `urls.py` 파일을 말합니다. URL 패턴별로 이름을 지정할 수 있고, 패턴 그룹에 대해 이름공간을 지정할 수도 있습니다. 즉 `reverse` 함수 혹은, 템플릿 태그를 사용해 필요한 URL을 추출할 수 있습니다. 

웹 화면별 템플릿 파일을 모아두기 위한 디렉토리입니다. 템플릿 디렉토리는 프로젝트 단위, 앱 단위로 구분하여 사용합니다. 

### 참고문헌

- 김석훈, 파이썬 웹 프로그래밍(실전편)